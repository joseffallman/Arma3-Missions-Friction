call compile preprocessFileLineNumbers "Server\Classes\ServerEventHandlers.sqx";
call compile preprocessFileLineNumbers "Server\Classes\ServerEventReciever.sqx";
call compile preprocessFileLineNumbers "Server\Classes\ServerObjects.sqx";
call compile preprocessFileLineNumbers "Server\Classes\Objects\VehicleSideAlias.sqx";
call compile preprocessFileLineNumbers "Server\Classes\Objects\MissionSettings.sqx";
call compile preprocessFileLineNumbers "Server\Classes\Services\MissionEngine.sqx";
call compile preprocessFileLineNumbers "Server\Classes\Missions\Campaign.sqx";
call compile preprocessFileLineNumbers "Server\Classes\Missions\Mission.sqx";
call compile preprocessFileLineNumbers "Server\Classes\Missions\Shared\ObjectTypeDictionary.sqx";
call compile preprocessFileLineNumbers "Server\Classes\Missions\Shared\SoldierTypeDictionary.sqx";
call compile preprocessFileLineNumbers "Server\Classes\Missions\AirStationAssault\AirStationAssault.sqx";
call compile preprocessFileLineNumbers "Server\Classes\Missions\AirbaseIntruders\AirbaseIntruders.sqx";
call compile preprocessFileLineNumbers "Server\Classes\Missions\LostVehicles\LostVehicles.sqx";
call compile preprocessFileLineNumbers "Server\Classes\Missions\AsEasyAsItGets\AsEasyAsItGets.sqx";
call compile preprocessFileLineNumbers "Server\Classes\Missions\HawkDown\HawkDown.sqx";
call compile preprocessFileLineNumbers "Server\Classes\Missions\NightTensions\NightTensions.sqx";
call compile preprocessFileLineNumbers "Server\Classes\Missions\Establishments\Establishments.sqx";

using Mission.Server;
using Mission.Server.Statics;

namespace Mission
{
	public class Server
	{
		// Initializes the server.
		public static method Initialize()
		{
			private ["_missionEngine" as MissionEngine];
			
			// Bootstrap the server singletons.
			call ServerObjects.Init;
			
			// Initialize all server eventhandlers.
			call ServerEventHandlers.Init;
			
			// Start the mission engine service
			_missionEngine = new MissionEngine;
			call _missionEngine.RunAsync;
		};
	};
};
